<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>æ³¨å†Œ</title>
	</head>
	<body>
		ç”¨æˆ·å<input type="text" class="username" /> <br />
		å¯†ç <input type="text" class="password" /> <br />
		<button class="register">æ³¨å†Œ</button>

		<script>
			const username = document.querySelector('.username');
			const password = document.querySelector('.password');
			const button = document.querySelector('.register');
			const url = 'https://taskapi.chovrio.club/';

			async function regiser() {
				// ä½¿ç”¨æ™®é€šå¯¹è±¡å†è½¬æ¢
				// let inputObj = {
				// 	username: `${username.value}`,
				// 	password: `${password.value}`,
				// };

				// ä½¿ç”¨FormDataè¡¨å•
				inputObj = new FormData();
				inputObj.append('username', `${username.value}`);
				inputObj.append('password', `${password.value}`);

				let res = await fetch(`${url}users/register`, {
					method: 'POST',

					// body: JSON.stringify(inputObj),
					body: inputObj,
				});
				let message = await res.json();
				console.log(message);
			}

			button.addEventListener('click', regiser);

			// {
			//     "code": 200,
			//     "message": "ç”¨æˆ·æ³¨å†ŒæˆåŠŸ",
			//     "result": {
			//         "id": 22,
			//         "username": "wishao",
			//         "password": "è¿™ä¸œè¥¿ä½ å¾—è‡ªå·±è®°ï¼Œåˆ«æ¥é—®æˆ‘ğŸ˜‰", // wang123
			//         "lv2": "è´¦å·æ³¨å†ŒæˆåŠŸäº†ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬ä½¿ç”¨ä¸‹æ–¹æ¥å£å‘é€ä¸€ä¸ªæºå¸¦bodyå‚æ•°çš„postè¯·æ±‚è¿›è¡Œç™»å½•æ¥è·å¾—èº«ä»½å‡­è¯å§",
			//         "url": "https://taskapi.chovrio.club/users/login",
			//         "bodyType": {
			//             "username": "string",
			//             "password": "string"
			//         }
			//     }
			// }

			// {
			//     "code": 200,
			//     "message": "ç”¨æˆ·æ³¨å†ŒæˆåŠŸ",
			//     "result": {
			//         "id": 23,
			//         "username": "9wishao",
			//         "password": "è¿™ä¸œè¥¿ä½ å¾—è‡ªå·±è®°ï¼Œåˆ«æ¥é—®æˆ‘ğŸ˜‰", // wang123
			//         "lv2": "è´¦å·æ³¨å†ŒæˆåŠŸäº†ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬ä½¿ç”¨ä¸‹æ–¹æ¥å£å‘é€ä¸€ä¸ªæºå¸¦bodyå‚æ•°çš„postè¯·æ±‚è¿›è¡Œç™»å½•æ¥è·å¾—èº«ä»½å‡­è¯å§",
			//         "url": "https://taskapi.chovrio.club/users/login",
			//         "bodyType": {
			//             "username": "string",
			//             "password": "string"
			//         }
			//     }
			// }
		</script>
	</body>
</html>
