<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>ç™»å½•</title>
	</head>
	<body>
		ç”¨æˆ·å<input type="text" class="username" /> <br />
		å¯†ç <input type="text" class="password" /> <br />
		<button class="loginB">ç™»å½•</button>

		<script>
			const username = document.querySelector('.username');
			const password = document.querySelector('.password');
			const button = document.querySelector('.loginB');
			const url = 'https://taskapi.chovrio.club/';

			async function login() {
				inputObj = new FormData();
				inputObj.append('username', `${username.value}`);
				inputObj.append('password', `${password.value}`);

				let res = await fetch(`${url}users/login`, {
					method: 'POST',
					body: inputObj,
				});
				let message = await res.json();
				console.log(message);
			}

			button.addEventListener('click', login);

			// {
			//     "code": 200,
			//     "message": "ç”¨æˆ·ç™»å½•æˆåŠŸ",
			//     "result": {
			//         "token": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MjMsInVzZXJuYW1lIjoiOXdpc2hhbyIsImF2YXRhciI6IiIsImlhdCI6MTY2OTUyMzA2NiwiZXhwIjoxNjcyMTE1MDY2fQ.mLlIjvheLBai46CzZ5hg4xWH3cv2LNEJbeir5kcUFyY",
			//         "tip": "ä¸€æ®µç¥å¥‡çš„å­—ç¬¦ï¼Œåœ¨è¯·æ±‚å¤´ä¸­æºå¸¦å®ƒå§ğŸ˜€",
			//         "lv3": "ä½ å·²ç»è·å¾—äº†æœ€é‡è¦çš„é“å…·ï¼ŒèŠå¤©å®¤èº«ä»½å¯†é’¥ï¼Œåœ¨ä¸‹æ–¹æ¥å£ä¸­å‘é€getè¯·æ±‚å¹¶ä¸”åœ¨è¯·æ±‚å¤´ä¸­è®¾ç½®Authorizationå±æ€§ä¸ºtokenæ¥è·å¾—èŠå¤©å®¤åœ°å€å§",
			//         "url": "https://taskapi.chovrio.club/chatroom"
			//     }
			// }
		</script>
	</body>
</html>
